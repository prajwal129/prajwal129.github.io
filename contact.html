<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Praveen P S-Contact</title>
    <link rel="stylesheet" href="css/contact.css">
    <link rel="icon" href="favicon.ico">
  </head>
  <body>

    <!-- Responsive Contact Page with Dark Mode and Form Validation (vanilla JS).

    *Designed & built for desktop and tablets with viewport width >= 720px and in landscape orientation.  -->

    <div class="contact-container">
      <div class="left-col">
        <video class="vid" src="images/telez.mp4" width="100%" height="75%" muted loop autoplay>
          </video>


      </div>
      <div class="right-col">


        <h1>Contact </h1>


        <form id="contact-form" method="post">
          <label for="name">Full name</label>
      <input type="text" id="name" name="name" placeholder="Your Full Name"  required>
          <label for="email">Email Address</label>
      <input type="email" id="email" name="email" placeholder="Your Email Address" required>
          <label for="message">Message</label>
      <textarea rows="6" placeholder="Your Message" id="message" name="message" required></textarea>
          

    </form>
<a href="mailto:praveenps2000@gmail.com"><button type="submit" id="submit" name="submit">Send</button></a>
    <div id="error"></div>
    <div id="success-msg"></div>
      </div>

    </div>

<script >
  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');

function switchTheme(e) {
    if (e.target.checked) {
        document.documentElement.setAttribute('data-theme', 'dark');
    }
    else {
        document.documentElement.setAttribute('data-theme', 'light');
    }
}

toggleSwitch.addEventListener('change', switchTheme, false);


const name = document.getElementById('name');
const email = document.getElementById('email');
const message = document.getElementById('message');
const contactForm = document.getElementById('contact-form');
const errorElement = document.getElementById('error');
const successMsg = document.getElementById('success-msg');
const submitBtn = document.getElementById('submit');

const validate = (e) => {
  e.preventDefault();

  if (name.value.length < 3) {
    errorElement.innerHTML = 'Your name should be at least 3 characters long.';
    return false;
  }

  if (!(email.value.includes('.') && (email.value.includes('@')))) {
    errorElement.innerHTML = 'Please enter a valid email address.';
    return false;
  }

  if (!emailIsValid(email.value)) {
    errorElement.innerHTML = 'Please enter a valid email address.';
    return false;
  }

  if (message.value.length < 15) {
    errorElement.innerHTML = 'Please write a longer message.';
    return false;
  }

  errorElement.innerHTML = '';
  successMsg.innerHTML = 'Thank you! I will get back to you as soon as possible.';

  e.preventDefault();
  setTimeout(function () {
    successMsg.innerHTML = '';
    document.getElementById('contact-form').reset();
  }, 6000);

  return true;

}

const emailIsValid = email => {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

submitBtn.addEventListener('click', validate);
</script>
  </body>
</html>
